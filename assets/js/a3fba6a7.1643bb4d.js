"use strict";(self.webpackChunkTHM_Notes=self.webpackChunkTHM_Notes||[]).push([[326],{9810:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var t=n(4848),i=n(8453);const r={},o="File System",l={id:"Pre Security/Windows Fundamentals/Windows Fundamentals 1",title:"Windows Fundamentals 1",description:"System #Windows",source:"@site/docs/Pre Security/Windows Fundamentals/Windows Fundamentals 1.md",sourceDirName:"Pre Security/Windows Fundamentals",slug:"/Pre Security/Windows Fundamentals/Windows Fundamentals 1",permalink:"/docs/Pre Security/Windows Fundamentals/Windows Fundamentals 1",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"THMSidebar",previous:{title:"Putting it all together",permalink:"/docs/Pre Security/How The Web Works/Putting it all together"},next:{title:"Windows Fundamentals 2",permalink:"/docs/Pre Security/Windows Fundamentals/Windows Fundamentals 2"}},a={},d=[];function c(e){const s={a:"a",code:"code",h1:"h1",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"#Pre-Sec #System #Windows"}),"\n",(0,t.jsx)(s.h1,{id:"file-system",children:"File System"}),"\n",(0,t.jsxs)(s.p,{children:["The file system used in modern versions of\xa0Windows\xa0is the ",(0,t.jsx)(s.strong,{children:"New Technology File System"})," or simply\xa0",(0,t.jsx)(s.a,{href:"https://docs.microsoft.com/en-us/windows-server/storage/file-server/ntfs-overview",children:"NTFS"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["Before NTFS, there was\xa0",(0,t.jsx)(s.strong,{children:"FAT16/FAT32"})," (File Allocation Table) and ",(0,t.jsx)(s.strong,{children:"HPFS"})," (High Performance File System).\xa0"]}),"\n",(0,t.jsx)(s.p,{children:"You still see FAT partitions in use today. For example, you typically see FAT partitions in USB devices, MicroSD cards, etc.\xa0but traditionally not on personal Windows computers/laptops or Windows servers."}),"\n",(0,t.jsx)(s.p,{children:"NTFS is known as a journaling file system. In case of a failure, the file system can automatically repair the folders/files on disk using information stored in a log file. This function is not possible with FAT.\xa0 \xa0"}),"\n",(0,t.jsx)(s.p,{children:"NTFS addresses many of the limitations of the previous\xa0file systems; such as:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Supports files larger than 4GB"}),"\n",(0,t.jsx)(s.li,{children:"Set specific permissions on folders and files"}),"\n",(0,t.jsx)(s.li,{children:"Folder and file compression"}),"\n",(0,t.jsxs)(s.li,{children:["Encryption (",(0,t.jsx)(s.a,{href:"https://docs.microsoft.com/en-us/windows/win32/fileio/file-encryption",children:"Encryption File System"})," or ",(0,t.jsx)(s.strong,{children:"EFS"}),")"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"On NTFS volumes, you can set permissions that grant or deny access to files and folders."}),"\n",(0,t.jsx)(s.p,{children:"The permissions are:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"Full control"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"Modify"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"Read & Execute"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"List folder contents"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"Read"})}),"\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.strong,{children:"Write"})}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Refer to the Microsoft documentation to get a better understanding of the NTFS permissions for\xa0Special Permissions."}),"\n",(0,t.jsxs)(s.p,{children:["Another feature of NTFS is ",(0,t.jsx)(s.strong,{children:"Alternate Data Streams"})," (",(0,t.jsx)(s.strong,{children:"ADS"}),")."]}),"\n",(0,t.jsx)(s.p,{children:"Alternate Data Streams\xa0(ADS) is a file attribute specific to Windows\xa0NTFS\xa0(New Technology File System)."}),"\n",(0,t.jsxs)(s.p,{children:["Every file has at least one data stream (",(0,t.jsx)(s.code,{children:"$DATA"}),"), and ADS allows files to contain more than one stream of data. Natively ",(0,t.jsx)(s.a,{href:"https://support.microsoft.com/en-us/windows/what-s-changed-in-file-explorer-ef370130-1cca-9dc5-e0df-2f7416fe1cb1",children:"Window Explorer"})," doesn't display ADS to the user. There are 3rd party executables that can be used to view this data, but ",(0,t.jsx)(s.a,{href:"https://docs.microsoft.com/en-us/powershell/scripting/overview?view=powershell-7.1",children:"Powershell"})," gives you the ability to view ADS for files."]}),"\n",(0,t.jsx)(s.p,{children:"From a security perspective, malware writers have used ADS to hide data."}),"\n",(0,t.jsx)(s.p,{children:"Not all its uses are malicious. For example, when you download a file from the Internet, there are identifiers written to ADS to identify that the file was downloaded from the Internet."}),"\n",(0,t.jsxs)(s.p,{children:["To learn more about ADS, refer to the following link from MalwareBytes ",(0,t.jsx)(s.a,{href:"https://blog.malwarebytes.com/101/2015/07/introduction-to-alternate-data-streams/",children:"here"}),"."]}),"\n",(0,t.jsx)(s.h1,{id:"the-windowssystem32-folders",children:"The Windows\\System32 Folders"}),"\n",(0,t.jsxs)(s.p,{children:["The Windows folder (",(0,t.jsx)(s.code,{children:"C:\\Windows"}),") is traditionally known as the folder which contains the Windows operating system.\xa0"]}),"\n",(0,t.jsx)(s.p,{children:"The folder doesn't have to reside in the C drive necessarily. It can reside in any other drive and technically can reside in a different folder."}),"\n",(0,t.jsxs)(s.p,{children:["This is where environment variables, more specifically system environment variables, come into play.\xa0Even though not discussed yet, the system\xa0 environment variable for the Windows directory is ",(0,t.jsx)(s.code,{children:"%windir%"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"The System32 folder holds the important files that are critical for the operating system."}),"\n",(0,t.jsxs)(s.p,{children:["You should proceed with extreme caution when interacting with this folder. Accidentally deleting any files or folders within System32 can render the Windows OS inoperational. Read more about this action ",(0,t.jsx)(s.a,{href:"https://www.howtogeek.com/346997/what-is-the-system32-directory-and-why-you-shouldnt-delete-it/",children:"here"}),"."]}),"\n",(0,t.jsx)(s.h1,{id:"user-accounts-profiles-and-permissions",children:"User Accounts, Profiles, and Permissions"}),"\n",(0,t.jsxs)(s.p,{children:["User accounts can be one of two types on a typical local Windows system: ",(0,t.jsx)(s.strong,{children:"Administrator"})," &\xa0",(0,t.jsx)(s.strong,{children:"Standard User"}),".\xa0"]}),"\n",(0,t.jsx)(s.p,{children:"The user account type will determine what actions the user can perform on that specific Windows system.\xa0"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"An Administrator can make changes to the system: add users, delete users, modify groups, modify settings on the system, etc.\xa0"}),"\n",(0,t.jsx)(s.li,{children:"A Standard User can only make changes to folders/files attributed to the user & can't perform system-level changes, such as install programs."}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Local User and Group Management"}),".: ",(0,t.jsx)(s.code,{children:"lusrmgr.msc"})]}),"\n",(0,t.jsx)(s.h1,{id:"user-account-control",children:"User Account Control"}),"\n",(0,t.jsx)(s.p,{children:"A user doesn't need to run with high (elevated) privileges on the system to run tasks that don't require such privileges, such as surfing the Internet, working on a Word document, etc. This elevated privilege increases the risk of system compromise because it makes it easier for malware to infect the system. Consequently, since the user account can make changes to the system, the malware would run in the context of the logged-in user."}),"\n",(0,t.jsxs)(s.p,{children:["To protect the local user with such privileges, Microsoft introduced ",(0,t.jsx)(s.strong,{children:"User Account Control"})," (UAC). This concept was first introduced with the short-lived ",(0,t.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Windows_Vista",children:"Windows Vista"}),"\xa0and continued with versions of Windows that followed."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Note"}),": UAC (by default) doesn't apply for the built-in local administrator account.\xa0"]}),"\n",(0,t.jsx)(s.p,{children:"How does UAC work? When a user with an account type of administrator logs into a system, the current session doesn't run with elevated permissions. When an operation requiring higher-level privileges needs to execute, the user will be prompted to confirm if they permit the operation to run."}),"\n",(0,t.jsxs)(s.p,{children:["This feature reduces the likelihood of malware successfully compromising your system. You can read more about ",(0,t.jsx)(s.a,{href:"https://docs.microsoft.com/en-us/windows/security/identity-protection/user-account-control/how-user-account-control-works",children:"UAC"})," here."]}),"\n",(0,t.jsx)(s.h1,{id:"task-manager",children:"Task Manager"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.code,{children:"taskmgr"})})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>l});var t=n(6540);const i={},r=t.createContext(i);function o(e){const s=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(r.Provider,{value:s},e.children)}}}]);